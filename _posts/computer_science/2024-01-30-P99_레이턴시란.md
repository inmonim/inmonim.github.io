---
layout: post
title: "P99 레이턴시란?"
date: 2024-01-30 15:36:18 +0900
categories: Network
tag: [computer science, CS, network]
---

# P99 레이턴시란?

P99는 백분위를 나타내는 것이고, 레이턴시는 뜻 그대로 지연시간을 나타낸다.

예를 들어, 어떤 서버의 P99레이턴시가 7sec이라고 하자.

100개의 요청이 들어왔을 때 99개의 요청은 7초 안에 처리`되어야 한다`는 뜻이다.

더 자세히 얘기를 해보자면

지연 시간  | 처리된 요청 수 |
---|---|
1s | 5 |
2s | 5 |
3s | 10 |
4s | 40 |
5s | 20 |
6s | 15 |
7s | 4 |
8s | 1 |
---|---|
7s | 100 |

어떤 서버가 위와 같이 요청을 받았을 때, 99개의 요청은 7초 안에 처리되었다.

지연 시간이 하위 1퍼센트인 경우를 이상치로 판단할 수 있다.

이 하위 1퍼센트의 이상치는, 극단적인 예외 상황에서의 서비스의 지연시간을 알려주는 지표로 활용된다.

또한 이 값이 작아지면 작아질수록 사실상 전부에 가까운 99%의 사용자의 경험이 향상된다 할 수 있다.

<hr>

그리고 이 P99 레이턴시는 `이렇게 하자!`가 아닌, `이렇게 해야 한다!`의 의미로 받아들여지는 것 같다.

![이와 관련된 Stack overflow의 글](https://stackoverflow.com/questions/12808934/what-is-p99-latency)을 살펴보면,

여러 댓글이 `will(도착할 것이다)`이 아닌 `should(도착해야 한다)`의 의미로 써야한다고 말하고 있다.

물론 그 기준도 개발진들이 정하는 것이겠지만 그만큼 **중요하게 생각하는 기준**임을 강조하는 것 같다.

이와 비슷한 개념으로 P95, P90 그리고 P50까지도 있다고 한다.

Pn이 백분위를 나타내는 만큼, 어느 숫자를 붙여도 괜찮지만

일반적으로는 P99, P95, P90, P50 이렇게 네 종류의 백분위 수가 쓰인다고 한다.