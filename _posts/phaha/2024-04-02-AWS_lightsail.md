---
layout: post
title: "[AWS] lightsail 서버 구축하기"
date: 2024-04-02 14:00:00 +0900
categories: project, phaha
tag: [AWS, lightsail]
---

# **EC2 서버? Lightsail 서버?**

## **EC2?**

AWS의 **클라우드 서버 임대 서비스 분야**나 **해당 서버들의 대명사**를 `EC2`라고 생각하는 사람들이 많다.

워낙 EC2가 대중적이고 정말로 서버 임대 서비스의 대명사 취급을 받긴 하지만,

EC2는 AWS의 클라우드 서버의 통칭이 아니라, `종량제 서버`를 칭한다.

**사용한만큼 내는 서비스가 EC2다!**

### **생각보다 훨씬 복잡하고 어려운 EC2 관리**

아무리 대중화 되어있다고는 하나, EC2는 사용하기 상당히 까다롭다.

AWS에서 가장 큰 비중을 차지하는 서비스이며,

실제로 기업의 대규모 엔터프라이즈 서비스도 EC2 서버를 사용하기도 하는만큼

관리해야 할 설정과 자원이 대단히 많고 복잡하다.

>단순히 포트폴리오 서버나, 간단한 토이 프로젝트 수준의 서비스를 올리고 싶다!!<br>
는생각으로 EC2 서버를 생성하고 또 관리하려다 보면, EC2 관리에 더 많은 품을 들이게 될 수도 있다.
{: .prompt-info}

**무엇보다 종량제라는 특성 상, 트래픽, 요금 제한을 깜빡하거나 해킹 당하면 수 백만원의 요금이 청구될 수 있다.**

SSAFY에서도 프로젝트 기간에 EC2 서버 설정의 실수로

100만원 넘는 요금폭탄을 받는 교육생이 꼭 한 명 씩은 등장했었다...

실제 창업 수준으로 프로젝트를 돌릴 게 아니라면, EC2 보단 Lightsail 서버를 쓰는 편이 낫다고 생각한다.

## **LightSail이란?**

`EC2`가 **종량제 서비스**라면, `Lightsail`은 **고정 요금제 서비스**다.

EC2와 비교한다면, 다음과 같은 차이가 있다.

1. **하드웨어 선택폭이 좁다.**<br>
  기본적으로 요금제가 5, 10, 20 ~ 160달러로 요금제가 고정되어 있는 만큼<br>
  선택 가능한 하드웨어 성능의 자유도가 매우 낮다.<br>
  다만, 스토리지는 DB를 따로 추가 요금을 내고 확장할 수 있다!

2. **신경 써야할 관리 항목이 비교적 적다.**<br>
  정말 필수적인 설정이라 할 수 있는<br>
  DNS, IP, 방화벽 정도 말고는 굳이 신경쓸 게 없다.<br>
  물론 EC2도 저것만 관리하고 운영해도 되지만,<br>
  라이트세일은 정말로 저것 말고 관리할 게 없다...<br>
  해봤자 유료 부가 서비스인 로드밸런싱이나 추가 스토리지, DB 정도가 끝이다.

3. **시작 3개월 무료**<br>
  EC2 프리티어를 사용한 내역이 있더라도,<br>
  라이트세일은 별개의 서비스이므로 3개월은 무료로 쓸 수 있다!<br>
  월 3.5달러, 5달러, 10달러짜리 서버까지 3개월로 이용이 가능하다.

4. **쉽다.**<br>
  인프라 쪽에 굳이 크게 신경쓰고 싶지 않다 하는 사람이라면<br>
  EC2보다 Lightsail을 쓰는 것을 추천한다.<br>
  대시보드 GUI부터가 매우 초보자 친화적이다...

### **Lightsail 인스턴스 생성하기**

#### **1. Lightsail 대시보드에 진입**

![lightsail 대시보드](pjt_phaha/lightsail_dash.jpeg)

보시다시피 굉장히 깔끔하고, GUI 테마와 색 조합부터 초보자 친화적임을 강조하고 있다.

1. 좌측 상단 `인스턴스`를 클릭하면 현재 내 AWS 계정의 Lightsail 인스턴스 목록을 확인할 수 있다.

2. 인스턴스를 생성하러 들어가자.

#### **2. 지역과 OS 설정**

![lightsail리전_OS](pjt_phaha/lightsail_region_os.jpeg)

1. 리전(클라우드 서버의 물리적 위치)를 설정해주자. 해당 지역을 타겟으로 서비스할 게 아니라면, 그냥 서울로 설정해주면 된다.

2. linux와 window 중 선택할 수 있는데, window는 기본적으로 요금제 가격이 상당히 올라간다.

3. 배포판 중, Nginx, node.js, wordpress 등의 기본적인 프로그램이 깔린 블루 프린트로 시작할 수 있는는데, 필요하다면 `OS + 앱`을 선택하자!

#### **3. SSH 키페어 생성**

![lightsail_keypair](pjt_phaha/lightsail_keypair.jpeg)

1. 설명과 같다!

2. 이 부분은 중요한 부분이다. 새로 생성으로 SSH 접속을 위한 키페어를 만들어주자.

![lightsail_kepair_name](pjt_phaha/lightsail_keypair_name.jpeg)

적당한 키페어 네임을 설정해주고, 키페어 생성을 클릭하자!

![lightsail_keypair_down](pjt_phaha/lightsail_keypair_down.jpeg)

이렇게 생성된 키페어는 SSH 연결을 위해 쓰이는데,

>생성한 지금 당장 1회 다운로드 받는 것 이외에는 다시 받을 수 없다!
{: .prompt-warning}

잘 보관하자.

만약 잃어버리거나 유출이 의심된다면 삭제하고, 새로운 키페어를 만들거나 기본키를 쓰는 것도 가능하다.

![lightsail_account](pjt_phaha/lightsail_acc.jpeg)

> 인스턴스 생성 후에 ssh키 관련 설정을 찾기가 힘든데,<br>lightsail 대시보드 우측 상단의 이름을 누르면 등장하는 계정 설정에서 찾을 수 있다.{: .prompt-info}

#### **4. 요금제 설정**

![lightsail_plan](pjt_phaha/lightsail_plan.jpeg)

이제 가장 중요한 요금제를 설정하고, 인스턴스 이름을 설정하기만 하면 끝이다!

3개월 무료 알차게 10달러를 쓰자!

### 생성 이후

이후에는 원하는 작업을 진행하면 된다!

SSL과 DNS도 포스팅을 따로 진행하겠다!